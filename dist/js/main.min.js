const body=document.querySelector("body"),html=document.querySelector("html"),header=document.querySelector(".header");let checkNftSlider,windowSize;function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-header",header.offsetHeight+"px")}resize(),window.onresize=resize,gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(TimelineMax);let tl=gsap.timeline();const animSection=document.querySelectorAll(".anim-section");let animSectionArray=[];function sortByIndex(e){return windowSize<980?e.sort((e,t)=>e.mobIndex>t.mobIndex?1:-1):e.sort((e,t)=>e.index>t.index?1:-1)}function animScroll(){Array.from(animSectionArray).forEach((e,t)=>{const n=e[0],a=Number(e[0].dataset.offset)?Number(e[0].dataset.offset):0;elementCoords=n.getBoundingClientRect(),window.innerHeight/1.5-a>elementCoords.top&&!n.classList.contains("_animated")&&(n.classList.add("_animated"),e[1].play())})}function timer(){let e;document.querySelectorAll(".timer").forEach(t=>{e=new Date(t.dataset.timerYear,Number(t.dataset.timerMonth-1),t.dataset.timerDay,t.dataset.timerHour,Number(t.dataset.timerMinute)+1);const n=t.querySelector(".timer-day"),a=t.querySelector(".timer-hour"),o=t.querySelector(".timer-minute"),i=e-new Date,r=i>0?Math.floor(i/1e3/60/60/24):0,s=i>0?Math.floor(i/1e3/60/60)%24:0,l=i>0?Math.floor(i/1e3/60)%60:0;n&&(n.textContent=r.toString()+"d"),a.textContent=s.toString()+"h",o.textContent=l.toString()+"m"})}animSection.forEach(e=>{const t=e.querySelectorAll(".anim-element");let n=[];t.forEach(e=>{const t=Number(e.dataset.index),a=Number(e.dataset.mobIndex)?Number(e.dataset.mobIndex):t;n.push({element:e,index:t,mobIndex:a})}),n=sortByIndex(n);let a=new TimelineMax;a.pause(),Array.from(n).forEach((t,n)=>{const o=Number(t.element.dataset.duration)?Number(t.element.dataset.duration):.5,i=Number(t.element.dataset.delay)?Number(t.element.dataset.delay):0,r=Number(t.element.dataset.stagger)?Number(t.element.dataset.stagger):.05;t.element.classList.contains("anim-text")?a.to(t.element,{opacity:1,duration:o,delay:i,onStart:function(){gsap.to(t.element.querySelectorAll(".anim-text-line > span"),{y:0,opacity:1,startAt:{y:"100%"},duration:o,ease:"back.inOut(1.7)",stagger:r})}},0!=n&&"-=1"):t.element.classList.contains("anim-fade-in")?a.to(t.element,{opacity:1,duration:o,delay:i},0!=n&&"-=1"):t.element.classList.contains("anim-fade-top")?a.to(t.element,{opacity:1,duration:o,delay:i,onStart:function(){t.element.classList.add("_animated")}},0!=n&&"-=1"):t.element.classList.contains("anim-zoom-bottom")?a.to(t.element,{opacity:1,y:0,scale:1,startAt:{y:-100,scale:.9},duration:o,delay:i},0!=n&&"-=1"):t.element.classList.contains("anim-fade-right")?a.to(t.element,{opacity:1,y:0,x:0,startAt:{y:0,x:-100},duration:o,delay:i},0!=n&&"-=1"):t.element.classList.contains("anim-slider")?(a.to(t.element,{opacity:1,startAt:{opacity:0},duration:o,delay:i},0!=n&&"-=1"),gsap.to(t.element,{x:500>window.innerHeight/3?500:window.innerHeight/3,scrollTrigger:{trigger:e,start:"top center",end:"bottom -100px",scrub:!0}})):a.to(t.element,{opacity:1,duration:o,delay:i},0!=n&&"-=1")}),e.style.opacity=1,animSectionArray.push([e,a])}),animScroll(),window.addEventListener("scroll",animScroll),setTimeout(()=>{header.classList.add("_loaded")},0),timer(),setInterval(()=>{timer()},1e3);