const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");let windowSize,checkNftSlider=new Swiper(".check-nft__slider",{spaceBetween:32,slidesPerView:1,centeredSlides:!0,speed:5e3,autoplay:{delay:0,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!0,loopAdditionalSlides:2,freeMode:!0,breakpoints:{550:{slidesPerView:2},889:{slidesPerView:2,spaceBetween:52},1100:{slidesPerView:3,spaceBetween:52},1441:{slidesPerView:4,spaceBetween:52}}});function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-header",header.offsetHeight+"px")}resize(),window.onresize=resize,gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(TimelineMax);let tl=gsap.timeline();const animSection=document.querySelectorAll(".anim-section");let animSectionArray=[];function sortByIndex(e){return windowSize<980?e.sort((e,t)=>e.mobIndex>t.mobIndex?1:-1):e.sort((e,t)=>e.index>t.index?1:-1)}function animScroll(){Array.from(animSectionArray).forEach((e,t)=>{const n=e[0],r=n.getBoundingClientRect();window.innerHeight/1.5>r.top&&!n.classList.contains("_animated")&&(n.classList.add("_animated"),e[1].play())})}function timer(){let e;document.querySelectorAll(".timer").forEach(t=>{e=new Date(t.dataset.timerYear,Number(t.dataset.timerMonth-1),t.dataset.timerDay,t.dataset.timerHour,Number(t.dataset.timerMinute)+1);const n=t.querySelector(".timer-day"),r=t.querySelector(".timer-hour"),a=t.querySelector(".timer-minute"),i=e-new Date,o=i>0?Math.floor(i/1e3/60/60/24):0,l=i>0?Math.floor(i/1e3/60/60)%24:0,s=i>0?Math.floor(i/1e3/60)%60:0;n&&(n.textContent=o.toString()+"d"),r.textContent=l.toString()+"h",a.textContent=s.toString()+"m"})}animSection.forEach(e=>{const t=e.querySelectorAll(".anim-element");let n=[];t.forEach(e=>{const t=Number(e.dataset.index),r=Number(e.dataset.mobIndex)?Number(e.dataset.mobIndex):t;n.push({element:e,index:t,mobIndex:r})}),n=sortByIndex(n);let r=new TimelineMax;r.pause(),Array.from(n).forEach((e,t)=>{const n=Number(e.element.dataset.duration)?Number(e.element.dataset.duration):1,a=Number(e.element.dataset.delay)?Number(e.element.dataset.delay):0,i=Number(e.element.dataset.stagger)?Number(e.element.dataset.stagger):.05;if(e.element.classList.contains("anim-text")){let o=e.element.textContent.split(" ");e.element.innerHTML="";for(let t=0;t<o.length;t++)"*"==o[t].trim()[0]&&"*"==o[t].trim()[1]?o[t]=`<strong class="anim-text-word">${o[t].trim().split("**").join("")} </strong>`:"/"==o[t].trim()[0]&&"n"==o[t].trim()[1]?o[t]='<div style="padding: 3px 0"></div>':"/"==o[t].trim()[0]&&"b"==o[t].trim()[1]&&"r"==o[t].trim()[2]?o[t]="</br>":o[t]=`<span class="anim-text-word">${o[t].trim()} </span>`,e.element.insertAdjacentHTML("beforeend",o[t]);r.to(e.element,{opacity:1,duration:n,delay:a,onStart:function(){gsap.to(e.element.querySelectorAll(".anim-text-word"),{y:0,opacity:1,startAt:{y:50},duration:n,ease:"back.inOut(1.7)",stagger:i})}},0!=t&&"-=1")}else e.element.classList.contains("anim-fade-in")?r.to(e.element,{opacity:1,duration:n,delay:a},0!=t&&"-=1"):e.element.classList.contains("anim-fade-top")?r.to(e.element,{opacity:1,y:0,startAt:{y:50},duration:n,delay:a},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-bottom")?r.to(e.element,{opacity:1,y:0,scale:1,startAt:{y:-100,scale:.9},duration:n,delay:a},0!=t&&"-=1"):e.element.classList.contains("anim-fade-right")?r.to(e.element,{opacity:1,y:0,x:0,startAt:{y:0,x:-100},duration:n,delay:a},0!=t&&"-=1"):r.to(e.element,{opacity:1,duration:n,delay:a},0!=t&&"-=1")}),e.style.opacity=1,animSectionArray.push([e,r])}),animScroll(),window.addEventListener("scroll",animScroll),gsap.to(header,{opacity:1,duration:1,delay:.2}),timer(),setInterval(()=>{timer()},1e3);